<!doctype html><html><head><meta charset=utf-8><title>Why Your Organization Needs a Service Mesh: The Benefits of Service Mesh Architecture and Istio</title><meta name=viewport content="width=device-width,initial-scale=1"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><link rel=stylesheet href=https://preview.acethecloud.com/plugins/slick/slick.css><link rel=stylesheet href=https://preview.acethecloud.com/plugins/slick/slick-theme.css><link rel=stylesheet href=https://preview.acethecloud.com/plugins/font-awesome/css/font-awesome.min.css><link rel=stylesheet href=https://preview.acethecloud.com/plugins/magnafic-popup/magnific-popup.css><link href=https://preview.acethecloud.com/scss/style.min.css rel=stylesheet><link rel="shortcut icon" href=https://preview.acethecloud.com/images/favicon.ico type=image/x-icon><link rel=icon href=https://preview.acethecloud.com/images/favicon.png type=image/x-icon><script async src="https://www.googletagmanager.com/gtag/js?id=G-FCQTR1NVY6"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-FCQTR1NVY6")</script></head><body><nav class="navbar navbar-expand-lg fixed-top"><div class=container><a href=https://preview.acethecloud.com/ class=navbar-brand><img src=https://preview.acethecloud.com/images/site-navigation/logo.png alt=site-logo></a>
<button type=button class="navbar-toggler collapsed" data-toggle=collapse data-target=#navbarCollapse>
<span class=navbar-toggler-icon></span>
<span class=navbar-toggler-icon></span>
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse justify-content-between" id=navbarCollapse><ul class="nav navbar-nav main-navigation my-0 mx-auto"><li class=nav-item><a href=https://preview.acethecloud.com/#home class="nav-link text-dark text-sm-center p-2">Home</a></li><li class=nav-item><a href=https://preview.acethecloud.com/#about class="nav-link text-dark text-sm-center p-2">About</a></li><li class=nav-item><a href=https://preview.acethecloud.com/#service class="nav-link text-dark text-sm-center p-2">Service</a></li><li class=nav-item><a href=https://preview.acethecloud.com/#portfolio class="nav-link text-dark text-sm-center p-2">Work</a></li><li class=nav-item><a href=https://preview.acethecloud.com/#resume class="nav-link text-dark text-sm-center p-2">Resume</a></li><li class=nav-item><a href=https://preview.acethecloud.com/#skills class="nav-link text-dark text-sm-center p-2">Skills</a></li><li class=nav-item><a href=https://preview.acethecloud.com/#contact class="nav-link text-dark text-sm-center p-2">Contact</a></li></ul><div class=navbar-nav><a href=https://preview.acethecloud.com/blog class="btn btn-primary btn-zoom hire_button">Blog</a></div></div></div></nav><div id=content><header class=breadCrumb><div class=container><div class=row><div class="col-lg-10 col-md-12 offset-lg-1 offset-md-0 text-center"><h3 class=breadCrumb__title>Why Your Organization Needs a Service Mesh: The Benefits of Service Mesh Architecture and Istio</h3><nav aria-label=breadcrumb class="d-flex justify-content-center"><ol class="breadcrumb align-items-center"><li class=breadcrumb-item><a href=https://preview.acethecloud.com/>Home</a></li><li class=breadcrumb-item><a href=https://preview.acethecloud.com/blog>All Post</a></li><li class="breadcrumb-item active" aria-current=page>Why Your Organization Needs a Service Mesh: The Benefits of Service Mesh Architecture and Istio</li></ol></nav></div></div><ul class=post-meta><li><i class="fa fa-calendar"></i>
December 2, 2020</li><li><i class="fa fa-clock-o"></i>
7 mins read</li><li><i class="fa fa-tag"></i>
<a class=text-capitalize href=https://preview.acethecloud.com/tags/cloud/>Cloud</a>
<a class=text-capitalize href=https://preview.acethecloud.com/tags/cloud-agnostic/>cloud-agnostic</a>
<a class=text-capitalize href=https://preview.acethecloud.com/tags/service_mesh/>service_mesh</a></li><li><i class="fa fa-folder-open"></i>
<a class=text-capitalize href=https://preview.acethecloud.com/categories/blog/>blog</a></li></ul></div></div></div></div></header><section class="section singleBlog"><div class=svg-img><img src=https://preview.acethecloud.com/images/hero/figure-svg.svg alt></div><div class=animate-shape><img src=https://preview.acethecloud.com/images/skill/skill-background-shape.svg alt><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 600 600"><defs><linearGradient id="d" x1=".929" y1=".111" x2=".263" y2=".935" gradientUnits="objectBoundingBox"><stop offset="0" stop-color="#f1f6f9"/><stop offset="1" stop-color="#f1f6f9" stop-opacity="0"/></linearGradient></defs><g data-name="blob-shape (3)"><path class="blob" fill="url(#d)" d="M455.4 151.1c43.1 36.7 73.4 92.8 60.8 136.3-12.7 43.5-68.1 74.4-111.3 119.4-43.1 45-74 104.1-109.8 109-35.9 5-76.7-44.2-111.8-89.2-35.2-45-64.7-85.8-70.8-132.6-6-46.8 11.6-99.6 46.7-136.3 35.2-36.6 88-57.2 142.4-58.8 54.5-1.7 110.6 15.6 153.8 52.2z"/></g></svg></div><div class=animate-pattern><img src=https://preview.acethecloud.com/images/service/background-pattern.svg alt=background-shape></div><div class=container><div class=row><div class=col-lg-12><div class=singleBlog__feature><img src=https://preview.acethecloud.com/ alt=feature-image></div></div></div><div class="row mt-5"><div class=col-lg-12><div class=singleBlog__content><h2 id=background>Background</h2><p>A lot has changed about how we built microservices, and most people have no choice but to deploy microservices as pods in Kubernetes.
Let us take an example where we are running a web application that queries data for the products. If both of these functionalities were on the webserver, then a calculation could slow the response time of the web pages. Having it on a seperate server avoids this problem.</p><h3 id=what-is-a-service-mesh>What is a service mesh?</h3><p>A service mesh is a layer of infrastructure that sits between the microservices in a system and the network, and helps to manage and control the communication between those services. A service mesh typically consists of a network of proxies (also known as &ldquo;sidecars&rdquo;) that are deployed alongside the microservices and act as intermediaries for all communication between the services. The proxies handle tasks such as routing traffic, enforcing policies, and providing observability and monitoring.</p><p>One of the main advantages of a service mesh is that it allows teams to manage the communication between microservices at a global level, rather than having to handle these tasks on a per-service basis. This can make it easier to implement and enforce policies and patterns across the entire system, and can improve the reliability and performance of the microservices architecture as a whole.</p><h3 id=what-is-an-api-gateway>What is an API gateway?</h3><p>An API gateway is a reverse proxy that sits in front of a group of microservices and acts as a single entry point for external requests. The API gateway routes requests to the appropriate microservice, and can also handle tasks such as load balancing, authentication, and rate limiting.</p><p>One of the main advantages of an API gateway is that it can help to decouple the microservices from external clients, allowing teams to make changes to the microservices without affecting the clients. An API gateway can also help to improve the performance of the microservices architecture by offloading tasks such as authentication and rate limiting to the gateway.</p><h3 id=why-service-mesh-is-better>Why Service Mesh is better</h3><p>When it comes to building and managing a microservices architecture, there are a number of tools and technologies that can help.
Two of the most popular options are service mesh and API gateway.
But what exactly are these technologies, and how do you choose the right one for your organization?</p><p>Service mesh can act as a perfect load balancer and is also one of the core feature. It can be easily configured to divide traffic. Let&rsquo;s take an example to understand this.
Consider you are running an application on multiple clusters. One of devs has added a new feature to the core application and wants to test it out on production with live traffic. The easiest deployment strategy that he/she can test out his latest feature is by pushing it into a container or pod inside the cluster and then diverting a portion of the over traffic to collect essential logs and metrics.</p><p>The service mesh sidecar is also designed to collect APM and logs that he can use for performing his analysis on the canary instance. These logs and metrics are collected using a tool like Splunk or Datadog. But With the help of OpsMx Autopilot, one can automate the whole process of testing out a deployment using a canary analysis and perform automatic rollbacks whenever necessary.</p><p>It provides critical observability, reliability, and security features. As this runs on a platform level, it is not a burden on the core business application. It is a dominant feature that alleviates the developers crucial time so that they can focus on value-added activities .</p><p>Service mesh is an essential management system that helps all the different pods to work in harmony. Here are several reasons why, you will want to implement service mesh in a Kubernetes environment.</p><h3 id=why-you-should-use-a-service-mesh-with-microservices>Why you should use a service mesh with microservices</h3><p>It supports microservices architecture and application deployments, along with the other benefits it brings to an organization.</p><p>◼ Ensures high availability and fault tolerance.
◼ Gain greater visibility.
◼ Maintain secure communications.
◼ Increase release flexibility.</p><h3 id=istio>Istio</h3><p>Istio extends Kubernetes to establish a programmable, application-aware network using the powerful Envoy service proxy. Working with both Kubernetes and traditional workloads, Istio brings standard, universal traffic management, telemetry, and security to complex deployments.</p><p><img src=/images/blog/istio.png alt="blog image"></p><h3 id=trafic-management-through-istio>Trafic Management through Istio</h3><p>Istio’s traffic routing rules let you easily control the flow of traffic and API calls between services. Istio simplifies configuration of service-level properties like circuit breakers, timeouts, and retries, and makes it easy to set up important tasks like A/B testing, canary rollouts, and staged rollouts with percentage-based traffic splits. It also provides out-of-box reliability features that help make your application more resilient against failures of dependent services or the network.</p><h3 id=security>Security</h3><p>Breaking down a monolithic application into atomic services offers various benefits, including better agility, better scalability and better ability to reuse services. However, microservices also have particular security needs:</p><p>◼ To defend against man-in-the-middle attacks, they need traffic encryption.
◼ To provide flexible service access control, they need mutual TLS and fine-grained access policies.
◼ To determine who did what at what time, they need auditing tools.</p><p>Istio Security provides a comprehensive security solution to solve these issues. This page gives an overview on how you can use Istio security features to secure your services, wherever you run them. In particular, Istio security mitigates both insider and external threats against your data, endpoints, communication, and platform.</p><h3 id=observability>Observability</h3><p>Istio generates detailed telemetry for all service communications within a mesh. This telemetry provides observability of service behavior, empowering operators to troubleshoot, maintain, and optimize their applications – without imposing any additional burdens on service developers. Through Istio, operators gain a thorough understanding of how monitored services are interacting, both with other services and with the Istio components themselves.</p><h2 id=sample-microservice-based-application-using-istio>Sample Microservice based application using ISTIO</h2><p><img src=/images/blog/istio-bookinfo.jpg alt="blog image"></p><h3 id=implementation-in-go>Implementation in Go</h3><p>A service mesh is a network of microservices that communicate with each other to form a larger application. It is designed to manage communication between microservices, providing features like load balancing, service discovery, and security.</p><p>In Go, you can use the Go Micro library to implement a service mesh. Here is an example of how to set up a service mesh using Go Micro:</p><p>First, install Go Micro and its dependencies:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-golang data-lang=golang><span style=display:flex><span><span style=color:#66d9ef>go</span> <span style=color:#a6e22e>get</span> <span style=color:#f92672>-</span><span style=color:#a6e22e>u</span> <span style=color:#a6e22e>github</span>.<span style=color:#a6e22e>com</span><span style=color:#f92672>/</span><span style=color:#a6e22e>micro</span><span style=color:#f92672>/</span><span style=color:#a6e22e>micro</span>
</span></span></code></pre></div><p>Then, create a new Go Micro service by using the micro new command:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-golang data-lang=golang><span style=display:flex><span><span style=color:#a6e22e>micro</span> <span style=color:#a6e22e>new</span> <span style=color:#a6e22e>myservice</span>
</span></span></code></pre></div><p>This will create a new Go project with a basic service template. You can then add your service logic to the main.go file.</p><p>To start the service mesh, run the following command:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-golang data-lang=golang><span style=display:flex><span><span style=color:#a6e22e>micro</span> <span style=color:#a6e22e>api</span> <span style=color:#f92672>--</span><span style=color:#a6e22e>handler</span>=<span style=color:#a6e22e>rpc</span>
</span></span></code></pre></div><p>Inject the Istio sidecar into your microservice by running the following command</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-golang data-lang=golang><span style=display:flex><span><span style=color:#a6e22e>istioctl</span> <span style=color:#a6e22e>kube</span><span style=color:#f92672>-</span><span style=color:#a6e22e>inject</span> <span style=color:#f92672>-</span><span style=color:#a6e22e>f</span> <span style=color:#a6e22e>deployment</span>.<span style=color:#a6e22e>yaml</span> | <span style=color:#a6e22e>kubectl</span> <span style=color:#a6e22e>apply</span> <span style=color:#f92672>-</span><span style=color:#a6e22e>f</span> <span style=color:#f92672>-</span>
</span></span></code></pre></div><p>Use the Istio APIs and libraries to manage communication between your microservices. For example, you can use the Istio Go client to make RPC calls between services:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-golang data-lang=golang><span style=display:flex><span><span style=color:#75715e>// Create a new Istio client
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>client</span>, <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>istio</span>.<span style=color:#a6e22e>NewClient</span>()
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Handle error
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>} 
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Call the service
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>response</span>, <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>client</span>.<span style=color:#a6e22e>Call</span>(<span style=color:#e6db74>&#34;myservice&#34;</span>, <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>myproto</span>.<span style=color:#a6e22e>Request</span>{
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>Name</span>: <span style=color:#e6db74>&#34;John&#34;</span>,
</span></span><span style=display:flex><span>})
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Handle error
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>response</span>.<span style=color:#a6e22e>Message</span>)
</span></span></code></pre></div><h3 id=configure-ingress-and-egress-in-service-mesh>Configure Ingress and Egress in Service Mesh</h3><p>One way to configure ingress and egress using a service mesh is to use an ingress controller and an egress controller.</p><p>An ingress controller is a piece of software that runs inside the service mesh and manages incoming traffic to the mesh.
It is responsible for routing incoming traffic to the appropriate service within the mesh based on the hostname and path specified in the incoming request.</p><h4 id=to-configure-ingress-using-a-service-mesh-you-will-need-to>To configure ingress using a service mesh, you will need to:</h4><ul><li><p>Deploy an ingress controller within the mesh. This can be done using a sidecar proxy, or by deploying a standalone ingress controller.</p></li><li><p>Create a virtual service within the mesh that specifies the hostname and path that the ingress controller should route traffic to.</p></li><li><p>Create a service within the mesh that specifies the backend service that the ingress controller should route traffic to.</p></li><li><p>Egress controllers work in a similar way, but they are responsible for managing outgoing traffic from the mesh. To configure egress using a service mesh, you will need to:</p></li></ul><h4 id=deploy-an-egress-controller-within-the-mesh>Deploy an egress controller within the mesh.</h4><ul><li><p>Create a virtual service within the mesh that specifies the hostname and path that the egress controller should route traffic to.</p></li><li><p>Create a service within the mesh that specifies the backend service that the egress controller should route traffic to.</p></li></ul><p>It is important to note that the specific steps for configuring ingress and egress using a service mesh will depend on the specific service mesh implementation you are using.
Consult the documentation for your chosen service mesh for more detailed instructions.</p><p><a href=https://istio.io/latest/docs/examples/bookinfo/>Read more about Book Info app here at official website of Istio</a></p></div></div></div></div></section></div><section class=footer id=contact><div class=footer__background_shape><svg viewBox="0 0 1920 79"><path d="M0 0h1920v79L0 0z" data-name="Path 1450"/></svg></div><div class=container><div class=row><div class=col-lg-12><div class=footer__cta><div class=shape-1><svg xmlns="http://www.w3.org/2000/svg" width="357" height="315.029" viewBox="0 0 357 315.029"><path data-name="Path 1449" d="M76.1-157.222C91.746-135.8 87.2-94.273 99.993-61.945c12.7 32.328 42.661 55.459 39.248 73.282-3.318 17.823-40.007 30.337-65.6 43.325-25.5 12.988-39.912 26.545-60.01 42.566-20.1 16.116-46.074 34.6-63.328 27.682-17.349-6.921-25.976-39.153-59.915-59.82s-93.1-29.768-105.325-51.478 22.373-56.028 43.609-93.949c21.331-37.921 29.2-79.35 53.563-96.793 24.459-17.444 65.414-10.9 103.9-6.921 38.396 3.982 74.326 5.404 89.965 26.829z" transform="translate(217.489 188.626)"/></svg></div><div class=shape-2><svg xmlns="http://www.w3.org/2000/svg" width="357" height="315.029" viewBox="0 0 357 315.029"><path data-name="Path 1449" d="M76.1-157.222C91.746-135.8 87.2-94.273 99.993-61.945c12.7 32.328 42.661 55.459 39.248 73.282-3.318 17.823-40.007 30.337-65.6 43.325-25.5 12.988-39.912 26.545-60.01 42.566-20.1 16.116-46.074 34.6-63.328 27.682-17.349-6.921-25.976-39.153-59.915-59.82s-93.1-29.768-105.325-51.478 22.373-56.028 43.609-93.949c21.331-37.921 29.2-79.35 53.563-96.793 24.459-17.444 65.414-10.9 103.9-6.921 38.396 3.982 74.326 5.404 89.965 26.829z" transform="translate(217.489 188.626)"/></svg></div><div class="text-light footer__cta_content"><span>Contact me</span><h2 class=mb-0>Let’s Start a Project</h2></div><div class=footer__cta_action><a class="btn btn-light btn-zoom" href=https://preview.acethecloud.com/contact>Get in
touch</a></div></div></div></div><div class="row footer__widget"><div class=col-lg-4><div class="footer__widget_logo mb-5"><img src=https://preview.acethecloud.com/images/contact/widget-logo.png style=width:400px alt=widget-logo></div></div><div class=col-lg-4 style=margin-left:100px><div class="text-light footer__widget_address mb-5"><h4 class=base-font>Sitemap</h4><ul class="unstyle-list small"><li class=mb-2><a class=text-light href=https://preview.acethecloud.com/about>About me</a></li><li class=mb-2><a class=text-light href=https://preview.acethecloud.com/>Frequently Ask Question</a></li><li class=mb-2><a class=text-light href=https://preview.acethecloud.com/>Privacy & Policy</a></li><li class=mb-2><a class=text-light href=https://preview.acethecloud.com/>Latest Article</a></li></ul><h4 class=base-font>Address</h4><ul class="fa-ul small"><li class=mb-2><a class=text-light href=tel:><span class=fa-li><i class="fa fa-phone"></i></span></a></li><li class=mb-2><a class=text-light href=mailto:abhishek@acethecloud.com><span class=fa-li><i class="fa fa-envelope"></i></span>abhishek@acethecloud.com</a></li><li class=mb-2><span class=fa-li><i class="fa fa-map-marker"></i></span>23 Khan Niketon, Grand Street, NYK.</a></li></ul></div></div></div><div class="row footer__footer"><div class=col-lg-6><div class="footer__footer_copy text-light"><p>Copyright 2023 - All Rights Reserved by <a class=text-light href=https://AceTheOps.com/ target=_blank>AceTheOps</a></p></div></div><div class=col-lg-6><div class=footer__footer_social><ul class=unstyle-list><li class="d-inline-block mx-2"><a class=text-light target=_blank href=https://www.facebook.com/><i class="fa fa-facebook-official"></i></a></li><li class="d-inline-block mx-2"><a class=text-light target=_blank href=https://www.linkedin.com/><i class="fa fa-linkedin-square"></i></a></li><li class="d-inline-block mx-2"><a class=text-light target=_blank href=https://www.pinterest.com/><i class="fa fa-pinterest-square"></i></a></li><li class="d-inline-block mx-2"><a class=text-light target=_blank href=https://twitter.com/AceTheCloud><i class="fa fa-twitter-square"></i></a></li></ul></div></div></div></div></section><script src="https://maps.googleapis.com/maps/api/js?key=YOUR%20GOOGLE%20MAP%20API&libraries=geometry"></script>
<script src=https://preview.acethecloud.com/plugins/jQuery/jquery.min.js></script>
<script src=https://preview.acethecloud.com/plugins/bootstrap/bootstrap.min.js></script>
<script src=https://preview.acethecloud.com/plugins/slick/slick.min.js></script>
<script src=https://preview.acethecloud.com/plugins/waypoint/jquery.waypoints.min.js></script>
<script src=https://preview.acethecloud.com/plugins/magnafic-popup/jquery.magnific-popup.min.js></script>
<script src=https://preview.acethecloud.com/plugins/tweenmax/TweenMax.min.js></script>
<script src=https://preview.acethecloud.com/plugins/imagesloaded/imagesloaded.min.js></script>
<script src=https://preview.acethecloud.com/plugins/masonry/masonry.min.js></script>
<script src=https://preview.acethecloud.com/js/script.min.js></script></body></html>